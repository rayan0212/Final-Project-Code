<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>FRUTEE - Home</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
  <style>
    
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fefefe;
    }

    .navbar {
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
    }

    .category-card {
      height: 250px;
      color: white;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      border-radius: 10px;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.6);
      transition: 0.3s;
    }

    .category-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    .modal-content {
      border-radius: 16px;
      padding: 20px;
    }

    .modal-header {
      border-bottom: none;
    }

    .modal-title {
      font-size: 1.5rem;
      font-weight: bold;
    }

    .coupon-box {
      font-size: 1.2rem;
      background: #f1f1f1;
      padding: 10px 20px;
      border-radius: 8px;
      display: inline-block;
      font-weight: bold;
      color: #28a745;
    }

    .hero-section {
      background: url(img/picking\ 2.jpeg) center/cover no-repeat;
      position: relative;
      color: white;
      padding: 120px 0;
    }

    .hero-section::after {
      content: "";
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 1;
    }

    .banner-box {
      position: relative;
      z-index: 2;
      background: rgba(255, 255, 255, 0.12);
      padding: 40px 20px;
      border-radius: 16px;
      backdrop-filter: blur(6px);
      max-width: 720px;
      margin: 0 auto;
    }

    #chatbot-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #85bb65; /* ◊ô◊®◊ï◊ß FRUTEE */
      color: white;
      padding: 10px 15px;
      border-radius: 25px;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
      font-weight: bold;
      z-index: 1000;
    }

    #chatbot-window {
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 320px;
      background: #ffffff;
      border: 2px solid #85bb65;
      border-radius: 15px;
      box-shadow: 0 8px 15px rgba(0,0,0,0.2);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      z-index: 1000;
    }

    #chatbot-header {
      background: #8cd5ae; 
      color: white;
      padding: 10px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    #chatbot-header select {
      background: white;
      border: none;
      padding: 3px;
      font-size: 12px;
      border-radius: 5px;
    }

    #chatbot-messages {
      height: 250px;
      padding: 10px;
      overflow-y: auto;
      font-size: 14px;
      background-color: #f9f9f9;
      color: #333;
    }

    #chatbot-input-area {
      display: flex;
      border-top: 1px solid #ddd;
    }

    #chatbot-input-area input {
      flex: 1;
      border: none;
      padding: 10px;
      font-size: 14px;
    }

    #chatbot-input-area button {
      border: none;
      background: #85bb65; /* ◊ô◊®◊ï◊ß ◊û◊ï◊™◊ê◊ù */
      color: white;
      padding: 10px 15px;
      cursor: pointer;
      font-weight: bold;
    }
    #chatbot-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #85bb65;
      color: white;
      padding: 10px 15px;
      border-radius: 25px;
      cursor: pointer; /* ‚úã ◊î◊ô◊ì */
      font-weight: bold;
      z-index: 1000;
      transition: transform 0.2s ease;
    }

    #chatbot-toggle:hover {
      transform: scale(1.05);
    }

    #close-chatbot {
    cursor: pointer; /* ◊î◊ô◊ì ◊û◊¢◊ú ◊î-X */
    font-size: 20px;
    font-weight: bold;
    padding: 2px 8px;
    transition: color 0.2s;
  }

  #close-chatbot:hover {
    color: #ffe6c1; /* ◊ò◊ô◊§◊î ◊ë◊î◊ô◊® ◊ë-hover */
  }

  .chat-option {
    background-color: #8cd5ae;
    border: none;
    color: white;
    padding: 8px 12px;
    margin: 4px 4px 0 0;
    border-radius: 20px;
    cursor: pointer;
    font-size: 14px;
    transition: background 0.3s;
  }

  .chat-option:hover {
    background-color: #8cd5ae;
  }

  .text-end {
    text-align: right;
  }

  .text-start {
    text-align: left;
  }


  .footer {
      background-color: #ffffff;
      padding: 1rem 2rem;
      text-align: center;
      border-top: 1px solid #ccc;
      margin-top: 3rem;
      width: 100%;
      }

      .footer-links {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 0.5rem;
      padding: 0;
      }

      .footer-links a {
      text-decoration: none;
      color: #3ca64c;
      font-weight: 500;
      }

  </style>

  
</head>

<body>


  <!-- Chatbot Toggle Button -->
<div id="chatbot-toggle" onclick="toggleChatbot()">
  üí¨ Chat with us
</div>

<!-- Chatbot Window -->
<div id="chatbot-window" class="d-none">
  <div id="chatbot-header">
      FRUTEE Assistant
    <span id="close-chatbot" onclick="toggleChatbot()">√ó</span>
  </div>
  <div id="chatbot-messages"></div>
  <div id="chatbot-input-area">
    <input type="text" id="chatbot-input" placeholder="Type your message..." onkeydown="handleInput(event)" />
    <button onclick="sendMessage()">Send</button>
  </div>
</div>



    <!-- ‚úÖ Modal Popup -->
<div class="modal fade" id="welcomeModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content text-center">
        <div class="modal-header">
          <h5 class="modal-title w-100">üéâ Welcome to FRUTEE!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p class="fs-5">Enjoy <strong>15% OFF</strong> your first order!</p>
          <p class="text-muted">Use the coupon below at checkout:</p>
          <div id="couponCode" class="coupon-box mb-3">FRUTEE15</div>
          <br>
          <button class="btn btn-success" onclick="copyCoupon()">Copy Code</button>
        </div>
      </div>
    </div>
  </div>

      <!-- Header -->
      <nav class="navbar navbar-expand-lg navbar-light bg-white sticky-top">
        <div class="container">
          <a class="navbar-brand fw-bold text-success" href="#">FRUTEE</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="Client_DashBoard.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="Product_Catalog.html">Shop</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown">
                  <i class="bi bi-person"></i>
                </a>
                <ul class="dropdown-menu dropdown-menu-end">
                  <li><a class="dropdown-item" href="Client Profile.html">My Profile</a></li>
                  <li><a class="dropdown-item" href="clientOrders.html">My Orders</a></li>
                  <li><hr class="dropdown-divider"></li>
                  <li><a class="dropdown-item" href="#">Sign Out</a></li>
                </ul>
              </li>
              <li class="nav-item">
                <a href="#" class="position-relative" data-bs-toggle="modal" data-bs-target="#cartModal" onclick="renderCart()">
                    <i class="bi bi-cart fs-4"></i>
                    <span id="cart-count" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                      0
                    </span>
                  </a>              
              </li>                             
            </ul>
          </div>
        </div>
      </nav>


        <!-- Cart Modal -->
<div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="cartModalLabel">üõí Your Cart</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" id="cart-items">
        <!-- Cart items will be loaded here -->
      </div>
      <div class="modal-footer">
        <h5 class="me-auto">Total: <span id="cart-total">$0.00</span></h5>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button onclick="window.location.href='payment.html'" class="btn btn-success">Checkout</button>
      </div>
    </div>
  </div>
</div>

  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container banner-box text-center text-white">
      <h2 class="fw-bold display-6">FRUTEE's Pick of the Month</h2>
      <h1 class="display-5 text-warning">üçì Fresh Strawberry Basket</h1>
      <p class="lead mt-3 mb-1">Only <span class="fs-2 fw-bold">$5.99</span></p>
      <p class="small mb-4">For club members and online shoppers</p>
      <a href="#" class="btn btn-light px-4 py-2 fw-semibold">Shop Now</a>
      <p class="mt-3 small">Valid until March 31st, 2025 or while supplies last</p>
    </div>
  </section>
  

  <!-- Categories Section -->
  <section class="container py-5">
    <div class="text-center mb-4">
      <h2>Explore Our Services</h2>
    </div>
    <div class="row">
      <div class="col-md-4 mb-4">
        <div class="category-card" style="background-image: url('img/BASKET.webp');">
          <h3>PRODUCTS</h3>
          <a href="Product_Catalog.html" class="btn btn-light mt-2">Shop Now</a>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="category-card" style="background-image: url('img/drinks.webp');">
          <h3>WORKSHOPS</h3>
          <a href="Workshop Registration.html" class="btn btn-light mt-2">Join Now</a>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="category-card" style="background-image: url('img/free-photo-of-close-up-of-people-holding-mangos.jpeg');">
          <h3>Fruit-Picking Farmers</h3>
          <a href="picking.html" class="btn btn-light mt-2">Meet Them</a>
        </div>
      </div>
    </div>

    <div class="text-center mb-4">
      <h2>üåü Popular Fruit-Picking Fields</h2>
      <p class="text-muted">Discover the most loved fruit fields and book your spot</p>
    </div>
    
    <div class="row">
      <div class="col-md-4 mb-4">
        <div class="category-card" style="background-image: url('img/sidebar-1.jpg');">
          <h3>Sunny Strawberry Field</h3>
          <a href="Sunny Strawberry Field.html" class="btn btn-light mt-2">View More</a>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="category-card" style="background-image: url('img/Golden Apple Orchard.jpeg');">
          <h3>Golden Apple Orchard</h3>
          <a href="Golden Apple Orchard.html" class="btn btn-light mt-2">View More</a>
        </div>
      </div>
      <div class="col-md-4 mb-4">
        <div class="category-card" style="background-image: url('img/Citrus Breeze Grove.jpeg');">
          <h3>Citrus Breeze Grove</h3>
          <a href="Citrus Breeze Grove.html" class="btn btn-light mt-2">View More</a>
        </div>
      </div>
      <div class="text-center mt-3">
        <a href="allfeilds.html" class="btn btn-outline-success">
          View All Fruit Fields
        </a>
      </div>      
    </div>
    

    
  </section>


  <!-- Footer -->
<footer class="footer text-center py-4 border-top">
  <p class="mb-1">&copy; 2025 FRUTEE. All rights reserved.</p>
  <ul class="footer-links">
    <li><a href="#">Contact Us</a></li>
    <li><a href="#">Privacy Policy</a></li>
    <li><a href="#">Terms of Use</a></li>
  </ul>
</footer>

  <script>
    
document.addEventListener("DOMContentLoaded", function () {
  // Show the modal only once per session
  if (!sessionStorage.getItem("promoShown")) {
    const modal = new bootstrap.Modal(document.getElementById("welcomeModal"));
    modal.show();
    sessionStorage.setItem("promoShown", "true");

    // ◊©◊û◊ï◊® ◊ê◊™ ◊î◊û◊ï◊ì◊ú ◊ú◊©◊ô◊û◊ï◊© ◊û◊ê◊ï◊ó◊® ◊ô◊ï◊™◊®
    window.fruteeModal = modal;
  }
});

function copyCoupon() {
  const coupon = document.getElementById("couponCode").innerText;
  navigator.clipboard.writeText(coupon).then(() => {
    // ◊°◊í◊ï◊® ◊ê◊™ ◊î◊û◊ï◊ì◊ú ◊ë◊ú◊ô ◊ú◊î◊¶◊ô◊í alert
    if (window.fruteeModal) {
      window.fruteeModal.hide();
    }
  });
}


let firstMessageSent = false;

function toggleChatbot() {
  const botWindow = document.getElementById('chatbot-window');
  const isHidden = botWindow.classList.contains('d-none');

  if (isHidden) {
    // ◊†◊§◊™◊ó ‚Äì ◊û◊™◊ó◊ô◊ú ◊©◊ô◊ó◊î ◊¢◊ù ◊©◊ê◊ú◊î ◊®◊ê◊©◊ô◊™
    botWindow.classList.remove('d-none');
    clearMessages();
    askMainOptions(); // ◊©◊ê◊ú◊î ◊¢◊ù ◊õ◊§◊™◊ï◊®◊ô◊ù
  } else {
    // ◊†◊°◊í◊® ‚Äì ◊ê◊ô◊§◊ï◊°
    botWindow.classList.add('d-none');
    clearMessages();
  }
}



function clearMessages() {
  document.getElementById('chatbot-messages').innerHTML = '';
}

function handleInput(e) {
  if (e.key === 'Enter') sendMessage();
}

function sendMessage() {
  const input = document.getElementById('chatbot-input');
  const msg = input.value.trim();
  if (!msg) return;
  addMessage('user', msg);
  input.value = '';

  if (!firstMessageSent) {
    firstMessageSent = true;
    setTimeout(() => {
      askMainOptions();
    }, 600);
  }
}

function addMessage(sender, text) {
  const container = document.getElementById('chatbot-messages');
  const bubble = document.createElement('div');
  bubble.className = sender === 'user' ? 'text-end text-primary mb-2' : 'text-start text-dark mb-2';
  bubble.innerText = text;
  container.appendChild(bubble);
  container.scrollTop = container.scrollHeight;
}

function askMainOptions() {
  addMessage('bot', "How can I help you today?");
  const options = [
    { label: "üçä Booking", action: handleBooking },
    { label: "üßë‚Äçüè´ Workshop Info", action: handleWorkshop },
    { label: "üóìÔ∏è Available Tours", action: handleTours },
    { label: "üí∞ Prices", action: handlePrices }
  ];

  const container = document.getElementById('chatbot-messages');
  const btnWrapper = document.createElement('div');

  options.forEach(opt => {
    const btn = document.createElement('button');
    btn.innerText = opt.label;
    btn.className = 'chat-option';
    btn.onclick = () => {
      addMessage('user', opt.label);
      btnWrapper.remove();
      setTimeout(() => {
        opt.action();
      }, 500);
    };
    btnWrapper.appendChild(btn);
  });

  container.appendChild(btnWrapper);
  container.scrollTop = container.scrollHeight;
}

// ◊™◊í◊ï◊ë◊ï◊™ ◊ú◊õ◊ú ◊õ◊§◊™◊ï◊®:
function handleBooking() {
  addMessage('bot', "You can book a tour through the schedule on the page üëá");

  const options = [
    { label: "üìÖ Help me choose a date", action: () => {
        addMessage('bot', "Great! Available dates:\n‚úîÔ∏è April 2 ‚Äì 09:30\n‚úîÔ∏è April 4 ‚Äì 11:00");
        askBackToMenu();
      }
    },
    { label: "üîô Back to Menu", action: askMainOptions }
  ];

  showOptions(options);
}

function handleWorkshop() {
  addMessage('bot', "We currently offer:\nChoose one:");

  const options = [
    { label: "üçã Lemon Cake Baking", action: () => {
        addMessage('bot', "Great! üç∞ We'll reserve your spot for the Lemon Cake Workshop.");
        askBackToMenu();
      }
    },
    { label: "üçπ Citrus Juice Workshop", action: () => {
        addMessage('bot', "Yum! üçπ You're signed up for the Citrus Juice Workshop.");
        askBackToMenu();
      }
    },
    { label: "üîô Back to Menu", action: askMainOptions }
  ];

  showOptions(options);
}

function handleTours() {
  addMessage('bot', "Next available tours:\n‚úîÔ∏è April 2 ‚Äì 09:30\n‚úîÔ∏è April 4 ‚Äì 11:00\n‚ùå April 6 ‚Äì Full");

  const options = [
    { label: "üìç View tour location", action: () => {
        addMessage('bot', "We're located near Kfar Tavor ‚Äì click 'View Map' on the page to see it üó∫Ô∏è");
        askBackToMenu();
      }
    },
    { label: "üîô Back to Menu", action: askMainOptions }
  ];

  showOptions(options);
}

function handlePrices() {
  addMessage('bot', "The price is 45$ per person.\nChildren under 3 ‚Äì Free üë∂");

  const options = [
    { label: "üí≥ How can I pay?", action: () => {
        addMessage('bot', "We accept credit card payments at checkout after booking üí≥");
        askBackToMenu();
      }
    },
    { label: "üîô Back to Menu", action: askMainOptions }
  ];

  showOptions(options);
}


function askBackToMenu() {
  const options = [
    { label: "üîô Back to Main Menu", action: askMainOptions }
  ];
  showOptions(options);
}

function showOptions(options) {
  const container = document.getElementById('chatbot-messages');
  const btnWrapper = document.createElement('div');

  options.forEach(opt => {
    const btn = document.createElement('button');
    btn.innerText = opt.label;
    btn.className = 'chat-option';
    btn.onclick = () => {
      addMessage('user', opt.label);
      btnWrapper.remove();
      setTimeout(() => {
        opt.action();
      }, 500);
    };
    btnWrapper.appendChild(btn);
  });

  container.appendChild(btnWrapper);
  container.scrollTop = container.scrollHeight;
}










  </script>
  

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/cart.js"></script>

</body>

</html>
